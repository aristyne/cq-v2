@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 220 15% 95%;
    --foreground: 224 25% 23%;
    --card: 0 0% 100%;
    --card-foreground: 224 25% 23%;
    --popover: 0 0% 100%;
    --popover-foreground: 224 25% 23%;
    --primary: 98 75% 45%;
    --primary-foreground: 0 0% 100%;
    --secondary: 220 15% 94%;
    --secondary-foreground: 224 25% 23%;
    --muted: 220 15% 94%;
    --muted-foreground: 220 10% 55%;
    --accent: 220 15% 94%;
    --accent-foreground: 224 25% 23%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 15% 88%;
    --input: 220 15% 88%;
    --ring: 98 75% 45%;
    --radius: 0.8rem;

    --topic-color-1: hsl(190, 80%, 60%);
    --topic-color-2: hsl(340, 80%, 60%);
    --topic-color-3: hsl(120, 80%, 60%);
    --topic-color-4: hsl(270, 80%, 60%);
    --topic-color-5: hsl(30, 80%, 60%);
    --topic-color-6: hsl(220, 80%, 60%);
    --topic-color-7: hsl(0, 80%, 60%);
    --topic-color-8: hsl(45, 95%, 52%);
    --topic-color-9: hsl(150, 80%, 60%);
    --topic-color-10: hsl(300, 80%, 60%);

    --prism-color: #383a42;
    --prism-comment: #a0a1a7;
    --prism-keyword: #a626a4;
    --prism-string: #50a14f;
    --prism-function: #4078f1;
    --prism-number: #986801;
    --prism-class-name: #c18401;
    --prism-operator: #0184bc;
    --prism-punctuation: #383a42;
  }
  .dark {
    --background: 224 71% 10%;
    --foreground: 210 20% 90%;
    --card: 225 15% 18%;
    --card-foreground: 210 20% 90%;
    --popover: 225 15% 15%;
    --popover-foreground: 210 20% 90%;
    --primary: 98 75% 45%;
    --primary-foreground: 0 0% 100%;
    --secondary: 225 15% 30%;
    --secondary-foreground: 210 40% 98%;
    --muted: 225 15% 25%;
    --muted-foreground: 215 20% 65%;
    --accent: 225 15% 25%;
    --accent-foreground: 210 20% 90%;
    --destructive: 0 63% 31%;
    --destructive-foreground: 210 40% 98%;
    --border: 216 34% 22%;
    --input: 225 15% 25%;
    --ring: 98 75% 45%;

    --prism-color: #abb2bf;
    --prism-comment: #5c6370;
    --prism-keyword: #c678dd;
    --prism-string: #98c379;
    --prism-function: #61afef;
    --prism-number: #d19a66;
    --prism-class-name: #e5c07b;
    --prism-operator: #56b6c2;
    --prism-punctuation: #abb2bf;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer components {
  .lesson-bubble {
    @apply relative h-20 w-20 rounded-full border-4 flex items-center justify-center transition-all duration-300;
  }
  .topic-card {
    @apply rounded-xl p-4 text-white font-bold;
  }
}

@layer utilities {
  .scrollbar-gutter-stable {
    scrollbar-gutter: stable;
  }
  
  @keyframes tour-highlight-pulse {
    0%,
    100% {
      box-shadow: 0 0 0rem 0.25rem hsl(var(--primary) / 0.5);
    }
    50% {
      box-shadow: 0 0 1rem 0.5rem hsl(var(--primary) / 0.5);
    }
  }

  .tour-highlight {
    position: relative;
    z-index: 51; /* Just above the dialog overlay (z-50) */
    animation: tour-highlight-pulse 1.5s infinite ease-in-out;
    background: hsl(var(--background));
  }
}

/* Make prism editor play nice with tailwind */
.prism-editor__textarea:focus {
  outline: none;
}

/* PrismJS Syntax Highlighting Styles */
code[class*='language-'],
pre[class*='language-'] {
  color: var(--prism-color);
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;
  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;
  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}
.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
  color: var(--prism-comment);
}
.token.punctuation {
  color: var(--prism-punctuation);
}
.token.selector,
.token.tag,
.token.attr-value {
  color: var(--prism-keyword);
}
.token.property,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
  color: var(--prism-number);
}
.token.string,
.token.char,
.token.attr-name,
.token.builtin,
.token.inserted {
  color: var(--prism-string);
}
.token.operator,
.token.entity,
.token.url {
  color: var(--prism-operator);
}
.token.atrule,
.token.keyword {
  color: var(--prism-keyword);
}
.token.function,
.token.class-name {
  color: var(--prism-function);
}
.token.regex,
.token.important,
.token.variable {
  color: var(--prism-class-name);
}
.token.important,
.token.bold {
  font-weight: bold;
}
.token.italic {
  font-style: italic;
}
.token.entity {
  cursor: help;
}
